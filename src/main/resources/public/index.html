<!DOCTYPE html>
<html>

	<head>
		<title>team caps lock</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	</head>
	
	<form method="post" action="/start" class="form-inline" role="form">
	</form>
	
	<body>
		<h1>Tic-Tac-Toe</h1>
		
		<script type="text/javascript">
		
		$(document).ready(function() {
          $.ajax({
            type: 'GET',
            url: '/getTable',
          }).done(function(result) {
			for(var i = 0; i < 10; i++){
            $('#' + (i + 1)).html(result.charAt(i)).attr('class', 'alert alert-success');
			}
          }).fail(function() {
            $('#bla').html('Failed to load table! \n Contact team caps lock for support.').attr('class', 'alert alert-danger');
          });
		  
			var form = $('#pInput');
			form.submit(function( event ) {
			  var number = $("#xIn").val();
			  $.ajax({
				type: form.attr('method'),
				url: form.attr('action'),
				data: 'xIn=' + number
			  }).done(function(result) {
				$('#debug').html(result).attr('class', 'alert alert-success');
			  }).fail(function() {
				$('#debug').html('Error, Illegal string...').attr('class', 'alert alert-danger');
			  });
			  event.preventDefault();
			});
		});
		  
		  /*
		  $.ajax({
					type: 'GET',
					url: '/player'
				}).done(function(result) {
					$('#xIn').attr("disabled", false);
				}).fail(function() {
					$('#error').html('Failed to load player! \n Contact team caps lock for support.').attr('class', 'alert alert-danger');
				});
			
			});
			*/
		
		</script>
		
		<div id="debug"></div>
		
		<table id="gameTable">
			<tbody>
				<tr>
					<td id="1"></td>
					<td id="2"></td>
					<td id="3"></td>
				</tr>
				<tr>
					<td id="4"></td>
					<td id="5"></td>
					<td id="6"></td>
				</tr>
				<tr>
					<td id="7"></td>
					<td id="8"></td>
					<td id="9"></td>
				</tr>
			</tbody>
		</table>
		
		<form id="pInput" method="post" action="/game" role="form">
			Player X: <input type="number" name="xInput" id="xIn" /><br/>
			Player O: <input type="number" name="oInput" id="oIn" disabled/><br/>
			<input id="play" type="submit" value="Submit" />
		</form>
</html>